import{s as W,e as h,a as x,m as S,c as _,l as g,g as C,i as d,n as k,f,k as q,o as b,p as N,t as O,b as D,d as P,h as E,j as I}from"../chunks/scheduler.Bso-5iR9.js";import{S as $,i as j}from"../chunks/index.DVUUAQG0.js";import{u as B,G as H,s as L,a as U,b as G}from"../chunks/firebase.z92QYSMm.js";function A(p){let t,r="Sign in with Google",s,i;return{c(){t=h("button"),t.textContent=r,this.h()},l(l){t=_(l,"BUTTON",{class:!0,"data-svelte-h":!0}),g(t)!=="svelte-12721gk"&&(t.textContent=r),this.h()},h(){b(t,"class","btn btn-primary")},m(l,n){d(l,t,n),s||(i=N(t,"click",p[1]),s=!0)},p:k,d(l){l&&f(t),s=!1,i()}}}function J(p){var w;let t,r,s=((w=p[0])==null?void 0:w.username)+"",i,l,n,o="You are logged in",e,a,m="Sign out",v,y;return{c(){t=h("h2"),r=O("Welcome, "),i=O(s),l=x(),n=h("p"),n.textContent=o,e=x(),a=h("button"),a.textContent=m,this.h()},l(c){t=_(c,"H2",{class:!0});var u=D(t);r=P(u,"Welcome, "),i=P(u,s),u.forEach(f),l=C(c),n=_(c,"P",{class:!0,"data-svelte-h":!0}),g(n)!=="svelte-1958qcl"&&(n.textContent=o),e=C(c),a=_(c,"BUTTON",{class:!0,"data-svelte-h":!0}),g(a)!=="svelte-wq7ddu"&&(a.textContent=m),this.h()},h(){b(t,"class","card-title"),b(n,"class","text-center text-success"),b(a,"class","btn btn-warning")},m(c,u){d(c,t,u),E(t,r),E(t,i),d(c,l,u),d(c,n,u),d(c,e,u),d(c,a,u),v||(y=N(a,"click",p[2]),v=!0)},p(c,u){var T;u&1&&s!==(s=((T=c[0])==null?void 0:T.username)+"")&&I(i,s)},d(c){c&&(f(t),f(l),f(n),f(e),f(a)),v=!1,y()}}}function R(p){let t,r="Login",s,i;function l(e,a){var m;return(m=e[0])!=null&&m.username?J:A}let n=l(p),o=n(p);return{c(){t=h("h2"),t.textContent=r,s=x(),o.c(),i=S()},l(e){t=_(e,"H2",{"data-svelte-h":!0}),g(t)!=="svelte-bhb3ah"&&(t.textContent=r),s=C(e),o.l(e),i=S()},m(e,a){d(e,t,a),d(e,s,a),o.m(e,a),d(e,i,a)},p(e,[a]){n===(n=l(e))&&o?o.p(e,a):(o.d(1),o=n(e),o&&(o.c(),o.m(i.parentNode,i)))},i:k,o:k,d(e){e&&(f(t),f(s),f(i)),o.d(e)}}}function Y(p,t,r){let s;q(p,B,n=>r(0,s=n));async function i(){const n=new H,e=await(await L(G,n)).user.getIdToken();console.log(e),await fetch("/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e})})}async function l(){await fetch("/api/signin",{method:"DELETE"}),await U(G)}return[s,i,l]}class M extends ${constructor(t){super(),j(this,t,Y,R,W,{})}}export{M as component};
