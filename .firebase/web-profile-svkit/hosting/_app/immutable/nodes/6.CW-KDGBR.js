import{s as Z,e as p,t as k,a as D,c as f,b as g,d as H,f as _,g as B,l as K,o as b,i as $,h as s,D as tt,j as I,n as Q,k as et}from"../chunks/scheduler.Bso-5iR9.js";import{S as at,i as rt}from"../chunks/index.DVUUAQG0.js";import{p as st}from"../chunks/stores.B0X-1PFb.js";import{p as ot,i as nt,a as lt}from"../chunks/entry.CjxpOh_l.js";function it(a){const t=JSON.parse(a);return t.data&&(t.data=ot(t.data)),t}function W(a){return HTMLElement.prototype.cloneNode.call(a)}function ct(a,t=()=>{}){const i=async({action:r,result:o,reset:u=!0,invalidateAll:m=!0})=>{o.type==="success"&&(u&&HTMLFormElement.prototype.reset.call(a),m&&await nt()),(location.origin+location.pathname===r.origin+r.pathname||o.type==="redirect"||o.type==="error")&&lt(o)};async function h(r){var y,T,M,c;if(((y=r.submitter)!=null&&y.hasAttribute("formmethod")?r.submitter.formMethod:W(a).method)!=="post")return;r.preventDefault();const u=new URL((T=r.submitter)!=null&&T.hasAttribute("formaction")?r.submitter.formAction:W(a).action),m=new FormData(a),v=(M=r.submitter)==null?void 0:M.getAttribute("name");v&&m.append(v,((c=r.submitter)==null?void 0:c.getAttribute("value"))??"");const C=new AbortController;let E=!1;const P=await t({action:u,cancel:()=>E=!0,controller:C,formData:m,formElement:a,submitter:r.submitter})??i;if(E)return;let l;try{const e=await fetch(u,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:m,signal:C.signal});l=it(await e.text()),l.type==="error"&&(l.status=e.status)}catch(e){if((e==null?void 0:e.name)==="AbortError")return;l={type:"error",error:e}}P({action:u,formData:m,formElement:a,update:e=>i({action:u,result:l,reset:e==null?void 0:e.reset,invalidateAll:e==null?void 0:e.invalidateAll}),result:l})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",h),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",h)}}}function ut(a){var X;let t,i,h,r,o=a[0].bio+"",u,m,v,C,E=a[1].status+"",S,P,l,y=(((X=a[1].form)==null?void 0:X.problem)??"")+"",T,M,c,e,A,z='<span class="label-text">Your bio</span>',j,x,F,R,L,J="Update Bio",U,V;return{c(){t=p("main"),i=p("p"),h=k("Current Bio: "),r=p("span"),u=k(o),m=D(),v=p("p"),C=k("Status Code: "),S=k(E),P=D(),l=p("p"),T=k(y),M=D(),c=p("form"),e=p("div"),A=p("label"),A.innerHTML=z,j=D(),x=p("textarea"),R=D(),L=p("button"),L.textContent=J,this.h()},l(d){t=f(d,"MAIN",{class:!0});var n=g(t);i=f(n,"P",{});var w=g(i);h=H(w,"Current Bio: "),r=f(w,"SPAN",{class:!0});var Y=g(r);u=H(Y,o),Y.forEach(_),w.forEach(_),m=B(n),v=f(n,"P",{});var q=g(v);C=H(q,"Status Code: "),S=H(q,E),q.forEach(_),P=B(n),l=f(n,"P",{class:!0});var G=g(l);T=H(G,y),G.forEach(_),M=B(n),c=f(n,"FORM",{method:!0});var N=g(c);e=f(N,"DIV",{class:!0});var O=g(e);A=f(O,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),K(A)!=="svelte-18jsnk2"&&(A.innerHTML=z),j=B(O),x=f(O,"TEXTAREA",{name:!0,class:!0}),g(x).forEach(_),O.forEach(_),R=B(N),L=f(N,"BUTTON",{class:!0,"data-svelte-h":!0}),K(L)!=="svelte-tqnit3"&&(L.textContent=J),N.forEach(_),n.forEach(_),this.h()},h(){b(r,"class","text-info"),b(l,"class","text-error"),b(A,"for","bio"),b(A,"class","label"),b(x,"name","bio"),b(x,"class","textarea textarea-bordered textarea-accent"),x.value=F=a[0].bio,b(e,"class","form-control"),b(L,"class","btn btn-primary my-5"),b(c,"method","POST"),b(t,"class","max-w-lg prose text-center mx-auto my-6")},m(d,n){$(d,t,n),s(t,i),s(i,h),s(i,r),s(r,u),s(t,m),s(t,v),s(v,C),s(v,S),s(t,P),s(t,l),s(l,T),s(t,M),s(t,c),s(c,e),s(e,A),s(e,j),s(e,x),s(c,R),s(c,L),U||(V=tt(ct.call(null,c)),U=!0)},p(d,[n]){var w;n&1&&o!==(o=d[0].bio+"")&&I(u,o),n&2&&E!==(E=d[1].status+"")&&I(S,E),n&2&&y!==(y=(((w=d[1].form)==null?void 0:w.problem)??"")+"")&&I(T,y),n&1&&F!==(F=d[0].bio)&&(x.value=F)},i:Q,o:Q,d(d){d&&_(t),U=!1,V()}}}function mt(a,t,i){let h;et(a,st,o=>i(1,h=o));let{data:r}=t;return a.$$set=o=>{"data"in o&&i(0,r=o.data)},[r,h]}class ht extends at{constructor(t){super(),rt(this,t,mt,ut,Z,{data:0})}}export{ht as component};
